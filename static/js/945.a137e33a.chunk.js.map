{"version":3,"file":"static/js/945.a137e33a.chunk.js","mappings":"uMAiEA,UA3DA,WACI,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,KACjB,GAAyBC,EAAAA,EAAAA,UAAS,IAAlC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA+BF,EAAAA,EAAAA,UAAS,IAAxC,eAAOG,EAAP,KAAgBC,EAAhB,KA0BA,OACI,gBAAKC,UAAU,6CAAf,UACI,gBAAKA,UAAU,mFAAf,UACI,iBAAKA,UAAU,yDAAf,WACI,eAAIA,UAAU,4BAAd,oBACA,kBACIC,KAAK,OACLD,UAAU,yDACVE,KAAK,QACLC,YAAY,QACZC,SAnCpB,SAAuBC,GACnBR,EAASQ,EAAMC,OAAOC,WAoCV,kBACIN,KAAK,WACLD,UAAU,yDACVE,KAAK,WACLE,SAtCpB,SAA0BC,GACtBN,EAAYM,EAAMC,OAAOC,QAsCTJ,YAAY,cAEhB,mBACIK,QAvCpB,WACI,IAAMC,EAAW,CACbb,MAAMA,EACNE,SAASA,GAEbY,IAAAA,KAAA,UAAcC,mDAAd,UAAyDF,GACxDG,MAAK,SAAAC,GACEA,EAAIC,MAGJrB,GAASsB,EAAAA,EAAAA,IAAQF,EAAIC,OAM7BrB,GAASuB,EAAAA,EAAAA,KAAW,IACpBzB,EAAS,MATD0B,MAAM,gCAgCEhB,KAAK,SACLD,UAAU,wHAHd","sources":["view/Login.tsx"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\r\nimport { useAppDispatch } from '../app/hooks'\r\nimport {setIsLogin} from '../app/route'\r\nimport axios from 'axios'\r\nimport { useState } from 'react';\r\nimport { setUser } from '../app/user'\r\nfunction Login() {\r\n    const navigate = useNavigate();\r\n    const dispatch = useAppDispatch()\r\n    const [email,setEmail] = useState('')\r\n    const [password,setPassword] = useState('')\r\n    function setUserEmail (event:React.ChangeEvent<HTMLInputElement>){\r\n        setEmail(event.target.value)\r\n    }\r\n    function setUserPassword (event:React.ChangeEvent<HTMLInputElement>){\r\n        setPassword(event.target.value)\r\n    }\r\n    function fetchLogin(){\r\n        const loginData ={\r\n            email:email,\r\n            password:password\r\n        }\r\n        axios.post(`${process.env.REACT_APP_API_BASE_URL}/sigin`,loginData)\r\n        .then(res=>{\r\n            if(!res.data){\r\n                alert('登入失敗')\r\n            }else{\r\n                dispatch(setUser(res.data))\r\n                login()\r\n            }\r\n        })\r\n    }\r\n    function login(){\r\n        dispatch(setIsLogin(true))\r\n        navigate('/');\r\n    }\r\n    return (\r\n        <div className=\"bg-grey-lighter min-h-screen flex flex-col\">\r\n            <div className=\"container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2\">\r\n                <div className=\"bg-white px-6 py-8 rounded shadow-md text-black w-full\">\r\n                    <h1 className=\"mb-8 text-3xl text-center\">Login</h1>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"block border border-grey-light w-full p-3 rounded mb-4\"\r\n                        name=\"email\"\r\n                        placeholder=\"email\"\r\n                        onChange={setUserEmail}\r\n                        />\r\n                    <input\r\n                        type=\"password\"\r\n                        className=\"block border border-grey-light w-full p-3 rounded mb-4\"\r\n                        name=\"password\"\r\n                        onChange={setUserPassword}\r\n                        placeholder=\"Password\" />\r\n\r\n                    <button\r\n                        onClick={fetchLogin}\r\n                        type=\"submit\"\r\n                        className=\"w-full text-center py-3 rounded bg-green text-black border-solid border-2 hover:bg-green-dark focus:outline-none my-1\"\r\n                    >Log in</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Login"],"names":["navigate","useNavigate","dispatch","useAppDispatch","useState","email","setEmail","password","setPassword","className","type","name","placeholder","onChange","event","target","value","onClick","loginData","axios","process","then","res","data","setUser","setIsLogin","alert"],"sourceRoot":""}